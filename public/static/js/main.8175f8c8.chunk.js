(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){},138:function(e,t,a){"use strict";(function(e){var n=a(49),r=a.n(n),l=a(25),s=a(18),c=a(19),o=a(21),i=a(20),m=a(22),u=a(0),d=a.n(u),h=a(139),p=a(72),g=a(71),E=a(27),f=a(11),v=a(36),y=a(109),b=a(110),C=a(108),w=a(88),k=a(13),N=a.n(k),x=a(140),T=a(45),S=a.n(T),O=a(63),P=a.n(O),D=a(47),j=function(t){function a(){var t,n;Object(s.a)(this,a);for(var c=arguments.length,m=new Array(c),u=0;u<c;u++)m[u]=arguments[u];return(n=Object(o.a)(this,(t=Object(i.a)(a)).call.apply(t,[this].concat(m)))).state={documents:[],isPreview:0,startDate:new Date(1945,0,1,0,0,0),endDate:new Date,keyId:"",activePage:1,numPagesView:10,asc:1,filter:"",showModal:!1,images:[]},n.change=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.show=function(e){n.setState({keyId:e.keyId,id:e.id,type:e.type,abstract:e.abstract,content:e.content,recv:e.recv,name:e.name,place:e.place,date:new Date(e.date),orgO:e.orgO,orgP:e.orgP,stamp:e.stamp,position:e.position,showModal:!0}),N.a.get("/api/documents/"+e.keyId).then((function(e){n.setState({images:e.data.images})})),N.a.get("/api/stamps/"+e.keyId).then((function(e){n.setState({stamp:e.data.stamp})}))},n.close=function(){return n.setState({images:[],isPreview:0,showModal:!1})},n.delete=function(){N.a.delete("/api/documents/"+n.state.keyId).then((function(e){n.alert(e.data.type,e.data.message),n.get()})),n.close()},n.edit=function(){N.a.put("/api/documents/"+n.state.keyId,{id:n.state.id,type:n.state.type,abstract:n.state.abstract,content:n.state.content,place:n.state.place,date:n.state.date,recv:n.state.recv,stamp:n.state.stamp,position:n.state.position,orgO:n.state.orgO,orgP:n.state.orgP,name:n.state.name}).then((function(e){n.get(),n.alert(e.data.type,e.data.message)})),n.setState({isPreview:0})},n.export=function(t){n.alert("primary","\u0110ang t\u1ea1o v\u0103n b\u1ea3n..."),N.a.post("/api/export",{id:n.state.id,type:n.state.type,abstract:n.state.abstract,content:n.state.content,place:n.state.place,day:new Date(n.state.date).getDate(),month:new Date(n.state.date).getMonth()+1,year:new Date(n.state.date).getFullYear(),recv:n.state.recv,stamp:n.state.stamp,orgO:n.state.orgO,orgP:n.state.orgP,position:n.state.position,name:n.state.name}).then((function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(Object(h.save)(e.from(t.data,"base64"),n.state.keyId+".docx"));case 2:case"end":return a.stop()}}))})),n.close()},n.sort=function(e){switch(e){case"type":n.setState({documents:n.state.documents.sort((function(e,t){return n.state.asc*(e.type.toLowerCase()<t.type.toLowerCase()?-1:e.type.toLowerCase()>t.type.toLowerCase()?1:0)}))});break;case"id":n.setState({documents:n.state.documents.sort((function(e,t){return n.state.asc*(e.id.toLowerCase()<t.id.toLowerCase()?-1:e.id.toLowerCase()>t.id.toLowerCase()?1:0)}))});break;case"abstract":n.setState({documents:n.state.documents.sort((function(e,t){return n.state.asc*(e.abstract.toLowerCase()<t.abstract.toLowerCase()?-1:e.abstract.toLowerCase()>t.abstract.toLowerCase()?1:0)}))});break;case"date":n.setState({documents:n.state.documents.sort((function(e,t){return n.state.asc*(e.date<t.date?-1:e.date>t.date?1:0)}))})}n.setState({asc:-1*n.state.asc})},n.startDateChange=function(e){n.setState({startDate:e})},n.endDateChange=function(e){n.setState({endDate:e})},n.dateChange=function(e){n.setState({date:e})},n.documentsToRender=function(e){return e.filter((function(e){return(!e.id||e.id.toLowerCase().includes(n.state.filter.toLowerCase())||!e.type||e.type.toLowerCase().includes(n.state.filter.toLowerCase())||!e.abstract||e.abstract.toLowerCase().includes(n.state.filter.toLowerCase()))&&new Date(e.date)>=n.state.startDate&&new Date(e.date)<=n.state.endDate}))},n.createPagination=function(e,t){for(var a=[],r=function(e){e===n.state.activePage?a.push(d.a.createElement(p.a.Item,{key:"p-"+e,active:!0},e)):a.push(d.a.createElement(p.a.Item,{key:"pi-"+e,onClick:function(){return n.setState({activePage:e})}},e))},l=1;l<=Math.ceil(e/t);l++)r(l);return a},n}return Object(m.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.get()}},{key:"get",value:function(){var e=this;N.a.get("/api/documents").then((function(t){return e.setState({documents:t.data.reverse()})}))}},{key:"alert",value:function(e,t){this.refs.notify.notificationAlert({place:"bc",message:d.a.createElement("div",null,t),type:e,icon:"now-ui-icons ui-1_bell-53",autoDismiss:3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.documents,n=t.activePage,r=t.numPagesView,l=t.isPreview,s=this.documentsToRender(a).length;return d.a.createElement(d.a.Fragment,null,d.a.createElement(S.a,{ref:"notify"}),d.a.createElement(g.a,null,d.a.createElement(E.a,{md:"4"},d.a.createElement(f.a,{className:"no-border"},d.a.createElement(f.a,null,d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,d.a.createElement("i",{className:"la la-search"})," ")),d.a.createElement(v.a.Control,{name:"filter",placeholder:"T\xecm ki\u1ebfm theo lo\u1ea1i, tr\xedch y\u1ebfu ho\u1eb7c s\u1ed1 v\u0103n b\u1ea3n...",onChange:this.change})))),d.a.createElement(E.a,{md:"3"},d.a.createElement(f.a,null,d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"T\u1eeb ")),d.a.createElement(P.a,{className:"form-control",dateFormat:"dd/MM/yyyy",selected:this.state.startDate,onChange:this.startDateChange}))),d.a.createElement(E.a,{md:"4.5"},d.a.createElement(f.a,null,d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"\u0110\u1ebfn")),d.a.createElement(P.a,{style:{width:"5px"},className:"form-control",dateFormat:"dd/MM/yyyy",selected:this.state.endDate,onChange:this.endDateChange})))),d.a.createElement("br",null),d.a.createElement(y.a,{responsive:!0,bordered:!0,hover:!0},d.a.createElement("thead",{className:"thead-default",style:{cursor:"pointer"}},d.a.createElement("tr",null,d.a.createElement("th",{width:"15%",onClick:function(){return e.sort("id")}},"S\u1ed1"),d.a.createElement("th",{width:"15%",onClick:function(){return e.sort("type")}},"Lo\u1ea1i"),d.a.createElement("th",{width:"60%",onClick:function(){return e.sort("abstract")}},"Tr\xedch y\u1ebfu"),d.a.createElement("th",{width:"10%",onClick:function(){return e.sort("date")}},"Ban h\xe0nh"))),d.a.createElement("tbody",null,this.documentsToRender(a).slice((n-1)*r,n*r<=s-1?n*r:s).map((function(t,a){return d.a.createElement(d.a.Fragment,{key:t.keyId},d.a.createElement("tr",{onClick:function(){return e.show(t)},style:{cursor:"pointer"}},d.a.createElement("td",null,t.id),d.a.createElement("td",null,t.type),d.a.createElement("td",null,t.abstract),d.a.createElement("td",null,new Date(t.date).toLocaleDateString("vi"))))})))),d.a.createElement("label",{className:"float-right"},"T\u1ed5ng: ",s),d.a.createElement("center",null,d.a.createElement(p.a,{className:"justify-content-center"},d.a.createElement(p.a.Prev,{onClick:function(){return e.setState({activePage:n>1?n-1:1})}}),this.createPagination(s,r),d.a.createElement(p.a.Next,{onClick:function(){return e.setState({activePage:n<Math.ceil(s/r)?n+1:Math.ceil(s/r)})}}))),d.a.createElement(b.a,{size:"lg",show:this.state.showModal,onHide:this.close},d.a.createElement(b.a.Body,null,d.a.createElement(x.a,{hidden:1!==l,images:this.state.images}),d.a.createElement("div",{hidden:0!==l},d.a.createElement("div",{style:{fontFamily:"TimeNewRoman",fontSize:"17px",padding:"50px",whiteSpace:"pre-wrap"}},d.a.createElement(y.a,{borderless:!0},d.a.createElement("thead",null,d.a.createElement("tr",null,this.state.orgP&&d.a.createElement("td",{width:"42%",style:{padding:"0px"}},d.a.createElement("center",null,this.state.orgO," ",this.state.orgO?d.a.createElement("br",null):"",d.a.createElement("b",null,this.state.orgP),d.a.createElement("br",null),"\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e")),d.a.createElement("td",{colSpan:"2",style:{padding:"0px"}},d.a.createElement("center",null,d.a.createElement("b",null,"C\u1ed8NG H\xd2A X\xc3 H\u1ed8I CH\u1ee6 NGH\u0128A VI\u1ec6T NAM",d.a.createElement("br",null),"\u0110\u1ed9c l\u1eadp - T\u1ef1 do - H\u1ea1nh ph\xfac"),d.a.createElement("br",null),"\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e"))),d.a.createElement("tr",null,d.a.createElement("td",{width:"42%",style:{padding:"0px"}},d.a.createElement("center",null,"S\u1ed1: ",this.state.id,"C\xd4NG V\u0102N"===this.state.type&&d.a.createElement("p",{style:{fontSize:"15px"}},this.state.abstract))),d.a.createElement("td",{style:{padding:"0px"}},d.a.createElement("center",null,d.a.createElement("i",null,this.state.place,", ng\xe0y ",new Date(this.state.date).getDate()," th\xe1ng ",new Date(this.state.date).getMonth()+1," n\u0103m ",new Date(this.state.date).getFullYear())))))),"C\xd4NG V\u0102N"!==this.state.type&&d.a.createElement("center",null,d.a.createElement("b",{style:{fontSize:"20px"}},this.state.type,d.a.createElement("br",null),this.state.abstract),d.a.createElement("p",null,"\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e\u203e")),d.a.createElement("p",{style:{textAlign:"justify"}},this.state.content),d.a.createElement(y.a,{borderless:!0,style:{padding:"1px"}},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",{width:"60%"},d.a.createElement("b",null,d.a.createElement("i",null,"N\u01a1i nh\u1eadn")),d.a.createElement("p",{style:{fontSize:"15px"}},this.state.recv)),d.a.createElement("td",{width:"40%"},d.a.createElement("center",null,d.a.createElement("p",null,d.a.createElement("b",null,this.state.position?this.state.position.split(",").join("\n"):"")),d.a.createElement(C.a,{name:"docStamp",style:{minHeight:"100px",minWidth:"100px",maxWidth:"150px",maxHeight:"100px"},onChange:this.change,src:this.state.stamp}),d.a.createElement("p",null,d.a.createElement("b",null,this.state.name))))))))),d.a.createElement("div",{hidden:2!==l},d.a.createElement(g.a,null,d.a.createElement(E.a,{md:"6"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"CQ ch\u1ee7 qu\u1ea3n")),d.a.createElement(v.a.Control,{name:"orgO",onChange:this.change,value:this.state.orgO}))),d.a.createElement(E.a,{md:"6"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"ban h\xe0nh")),d.a.createElement(v.a.Control,{name:"orgP",onChange:this.change,value:this.state.orgP})))),d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"S\u1ed1")),d.a.createElement(v.a.Control,{name:"id",onChange:this.change,value:this.state.id})),d.a.createElement(g.a,null,d.a.createElement(E.a,{md:"7"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"T\u1ea1i")),d.a.createElement(v.a.Control,{name:"place",onChange:this.change,value:this.state.place}))),d.a.createElement(E.a,{md:"5"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Th\u1eddi gian")),d.a.createElement(P.a,{className:"form-control",dateFormat:"dd/MM/yyyy",selected:this.state.date,onChange:this.dateChange})))),d.a.createElement(g.a,null,d.a.createElement(E.a,{md:"4"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Lo\u1ea1i")),d.a.createElement(v.a.Control,{name:"type",onChange:this.change,value:this.state.type}))),d.a.createElement(E.a,{md:"8"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Tr\xedch y\u1ebfu")),d.a.createElement(v.a.Control,{name:"abstract",onChange:this.change,value:this.state.abstract})))),d.a.createElement(v.a.Control,{className:"mb-3",name:"content",as:"textarea",onChange:this.change,value:this.state.content,rows:"15"}),d.a.createElement(g.a,null,d.a.createElement(E.a,{md:"7"},d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"N\u01a1i nh\u1eadn")),d.a.createElement(v.a.Control,{as:"textarea",rows:"5",name:"recv",onChange:this.change,value:this.state.recv}))),d.a.createElement(E.a,null,d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Ch\u1ee9c v\u1ee5")),d.a.createElement(v.a.Control,{name:"position",onChange:this.change,value:this.state.position})),d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"D\u1ea5u m\u1ed9c")),d.a.createElement(C.a,{name:"docStamp",style:{minHeight:"100px",minWidth:"100px",maxWidth:"150px",maxHeight:"100px"},onChange:this.change,src:this.state.stamp})),d.a.createElement(f.a,{className:"mb-3"},d.a.createElement(f.a.Prepend,null,d.a.createElement(f.a.Text,null,"Ng\u01b0\u1eddi k\xfd")),d.a.createElement(v.a.Control,{name:"name",onChange:this.change,value:this.state.name})))))),d.a.createElement(b.a.Footer,null,d.a.createElement("span",{hidden:2===l,className:"btn-icon",style:{cursor:"pointer"},onClick:function(){return e.setState({isPreview:1===l?0:1})}},d.a.createElement("i",{className:"la la-photo-video"}),0===l?"Xem \u1ea3nh g\u1ed1c":"Xem v\u0103n b\u1ea3n s\u1ed1"),d.a.createElement(w.a,{hidden:0!==l,className:"btn-outline-primary",variant:"primary",onClick:this.export},d.a.createElement("span",{className:"btn-icon"},d.a.createElement("i",{className:"la la-cloud-download-alt"}),"Xu\u1ea5t")),"guest"!==this.props.usrRole&&d.a.createElement(d.a.Fragment,null,d.a.createElement(w.a,{hidden:2!==l,className:"btn-outline-danger",variant:"danger",onClick:this.delete},d.a.createElement("span",{className:"btn-icon"},d.a.createElement("i",{className:"la la-trash-alt"}),"X\xf3a")),d.a.createElement(w.a,{hidden:2!==l,className:"btn-outline-warning",variant:"warning",onClick:this.edit},d.a.createElement("span",{className:"btn-icon"},d.a.createElement("i",{className:"la la-save"}),"L\u01b0u")),d.a.createElement(w.a,{hidden:0!==l,className:"btn-outline-warning",variant:"primary",onClick:function(){return e.setState({isPreview:2===l?0:2})}},d.a.createElement("span",{className:"btn-icon"},d.a.createElement("i",{className:"la la-edit"}),"S\u1eeda"))))))}}]),a}(u.Component);t.a=Object(D.b)((function(e){return{usrRole:e.usrRole}}),(function(e){return{isAdmin:function(){return e({type:"admin"})},isStaff:function(){return e({type:"staff"})},isUser:function(){return e({type:"guest"})}}}))(j)}).call(this,a(94).Buffer)},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(18),r=a(19),l=a(21),s=a(20),c=a(22),o=a(0),i=a.n(o),m=a(143),u=a(108),d=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.images;return i.a.createElement("div",{hidden:this.props.hidden},i.a.createElement(m.a,null,e.map((function(e,t){return i.a.createElement(m.a.Item,{key:"ci-"+t},i.a.createElement("center",null,i.a.createElement(u.a,{className:"d-block w-60",src:e})))}))))}}]),t}(o.Component)},144:function(e,t,a){e.exports=a(270)},149:function(e,t,a){},151:function(e,t,a){},198:function(e,t){},200:function(e,t){},201:function(e,t){},202:function(e,t){},203:function(e,t){},270:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),s=a.n(l),c=(a(149),a(150),a(151),a(18)),o=a(19),i=a(21),m=a(20),u=a(22),d=a(49),h=a.n(d),p=a(25),g=a(129),E=a.n(g),f=a(13),v=a.n(f),y=a(71),b=a(27),C=a(275),w=a(36),k=a(276),N=a(88),x=a(11),T=a(108),S=a(110),O=(a(120),a(45)),P=a.n(O),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={drag:!1},a.dropRef=r.a.createRef(),a.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},a.handleDragIn=function(e){e.preventDefault(),e.stopPropagation(),a.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&a.setState({drag:!0})},a.handleDragOut=function(e){e.preventDefault(),e.stopPropagation(),a.dragCounter--,0===a.dragCounter&&a.setState({drag:!1})},a.handleDrop=function(e){e.preventDefault(),e.stopPropagation(),a.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(a.props.handleDrop(e.dataTransfer.files),e.dataTransfer.clearData(),a.dragCounter=0)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"inline-block",position:"relative",width:"100%"},ref:this.dropRef},this.state.dragging&&r.a.createElement("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:9999}},r.a.createElement("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},r.a.createElement("div",null,"drop here :)"))),this.props.children)}}]),t}(n.Component),j=a(63),L=a.n(j),R=a(132),I=a.n(R),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleClose=function(){return a.setState({showModal:!1})},a.handleShow=function(){return a.setState({keyId:parseInt(new Date/1e3),showModal:!0})},a.open=function(e){var t;if(e.preventDefault(),e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files),t)if(t[0].name.match(/.(pdf)$/i)){var n=new FileReader;n.readAsDataURL(t[0]),n.onloadend=function(){I.a.getDocument(n.result).promise.then((function(e){var t=[];a.pdf=e;for(var n=0;n<a.pdf.numPages;n++)t.push(a.getPage(n+1));Promise.all(t).then((function(e){a.setState({images:e})}))}))}}else for(var r=function(){var e=new FileReader;e.onload=function(){a.setState({images:a.state.images.concat(e.result)})},e.readAsDataURL(t[l])},l=0;l<t.length;l++)r();a.setState({hasImage:!0})},a.getPage=function(e){return new Promise((function(t,n){a.pdf.getPage(e).then((function(e){var a=e.getViewport(1),n=document.createElement("canvas"),r=n.getContext("2d");n.height=a.height,n.width=a.width,e.render({canvasContext:r,viewport:a}).promise.then((function(){t(n.toDataURL("image/jpeg"))}))}))}))},a.saveImages=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.croppers.length)){t.next=7;break}return t.next=4,h.a.awrap(a.setState({imagesURL:a.state.imagesURL.concat(a.croppers[e].getCroppedCanvas().toDataURL())}));case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}}))},a.convert=function(){return h.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.alert("primary","\u0110ang x\u1eed l\xfd h\xecnh \u1ea3nh v\u0103n b\u1ea3n..."),a.setState({isConverting:!0,message:"\u0110ang x\u1eed l\xfd"}),e.next=4,h.a.awrap(a.saveImages());case 4:"all"===a.state.convertType?v.a.post("/api/convert",{dataURL:a.state.imagesURL}).then((function(e){"success"===e.data.notify.type&&a.setState({type:e.data.type,abstract:e.data.abstract,orgO:e.data.orgO,orgP:e.data.orgP,id:e.data.id,content:e.data.content,place:e.data.place,date:new Date(e.data.year,e.data.month-1,e.data.day),recv:e.data.recv,name:e.data.name,stamp:e.data.stamp,position:e.data.position,docImages:e.data.images}),a.setState({isConverting:!1}),a.alert(e.data.notify.type,e.data.notify.message)})).catch((function(e){a.alert("danger","Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea3n h\u1ed3i k\u1ebft qu\u1ea3 t\u1eeb h\u1ec7 th\u1ed1ng"),a.setState({isConverting:!1})})):v.a.post("/api/convertOne",{dataURL:a.state.imagesURL[a.state.page]}).then((function(e){"success"===e.data.notify.type&&a.setState(Object(p.a)({},a.state.convertType,e.data.result)),a.setState({isConverting:!1}),a.alert(e.data.notify.type,e.data.notify.message)})).catch((function(e){a.alert("danger","Kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea3n h\u1ed3i k\u1ebft qu\u1ea3 t\u1eeb h\u1ec7 th\u1ed1ng"),a.setState({isConverting:!1})})),a.setState({imagesURL:[]});case 6:case"end":return e.stop()}}))},a.crop=function(){"undefined"!==typeof a.cropper.getCroppedCanvas()&&a.setState({stamp:a.cropper.getCroppedCanvas().toDataURL()})},a.save=function(){a.setState({isConverting:!0}),v.a.post("/api/documents",{keyId:a.state.keyId,id:a.state.id,type:a.state.type,abstract:a.state.abstract,content:a.state.content,place:a.state.place,date:a.state.date,recv:a.state.recv,stamp:a.state.stamp,orgO:a.state.orgO,orgP:a.state.orgP,name:a.state.name,position:a.state.position,images:a.state.docImages}).then((function(e){a.setState({isConverting:!1}),a.alert(e.data.type,e.data.message)})),a.handleClose()},a.drop=function(e){a.setState({src:URL.createObjectURL(e[0])}),setTimeout(a.fileUploadHandler,500)},a.movePage=function(e){(e>0&&a.state.page<a.state.images.length-1||e<0&&a.state.page>0)&&a.setState({page:a.state.page+e})},a.createNew=function(){window.location.reload(!1)},a.dateChange=function(e){a.setState({date:e})},a.handleChangeType=function(e){a.setState({convertType:e.target.name})},a.croppers=[],a.state={page:0,ratio:20/28,keyId:"",type:"",abstract:"",content:"",id:"",place:"",date:new Date,orgO:"",orgP:"",recv:"",name:"",stamp:"",position:"",docImages:[],convertType:"all",convert:!0,hasImage:!1,showModal:!1,isConverting:!1,crops:[],docParts:[],images:[],imagesURL:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"alert",value:function(e,t){this.refs.notify.notificationAlert({place:"bc",message:r.a.createElement("div",null,t),type:e,icon:"now-ui-icons ui-1_bell-53",autoDismiss:3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.hasImage,n=t.convertType,l=t.ratio,s=t.images,c=t.page,o=t.keyId,i=t.content,m=t.crops,u=t.convert,d=t.isConverting,h=t.id,p=t.type,g=t.abstract,f=t.date,v=t.orgO,O=t.orgP,j=t.place,R=t.position,I=t.recv,M=t.name,F=t.stamp;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{ref:"notify"}),r.a.createElement(y.a,null,r.a.createElement(b.a,{hidden:!u,md:"5",style:{width:"100%"}},r.a.createElement(D,{drop:this.drop},r.a.createElement("input",{style:{display:"none"},id:"upload-file",accept:".jpg,.png,.pdf",type:"file",onChange:this.open}),a?r.a.createElement("div",null,r.a.createElement("div",{style:{position:"relative",height:"600px",width:"100%"}},s.map((function(t,a){return r.a.createElement(E.a,{key:"cr-"+a,style:a===c?{position:"absolute",height:"600px",width:"100%",zIndex:"1"}:{position:"absolute",height:"600px",width:"100%",zIndex:"0"},aspectRatio:"all"===n?l:"",guides:!1,autoCropArea:1,src:t,ref:function(t){e.croppers[a]=t}})}))),r.a.createElement("center",null,r.a.createElement(w.a.Control,{value:n,name:"convertType",as:"select",onChange:this.handleChange},r.a.createElement("option",{value:"all"},"T\u1ea5t c\u1ea3"),r.a.createElement("option",{value:"orgO"},"C\u01a1 quan ch\u1ee7 qu\u1ea3n"),r.a.createElement("option",{value:"orgP"},"C\u01a1 quan ban h\xe0nh"),r.a.createElement("option",{value:"id"},"S\u1ed1 v\u0103n b\u1ea3n"),r.a.createElement("option",{value:"place"},"\u0110\u1ecba \u0111i\u1ec3m"),r.a.createElement("option",{value:"dnt"},"Th\u1eddi gian"),r.a.createElement("option",{value:"type"},"Lo\u1ea1i"),r.a.createElement("option",{value:"abstract"},"Tr\xedch y\u1ebfu"),r.a.createElement("option",{value:"content"},"N\u1ed9i dung"),r.a.createElement("option",{value:"recv"},"N\u01a1i nh\u1eadn"),r.a.createElement("option",{value:"position"},"Ch\u1ee9c v\u1ee5"),r.a.createElement("option",{value:"name"},"Ng\u01b0\u1eddi k\xfd")),r.a.createElement("label",{htmlFor:"upload-file",style:{cursor:"pointer"}},"Th\xeam \u1ea3nh"),r.a.createElement("br",null),r.a.createElement(k.a,null,r.a.createElement(N.a,{size:"sm",variant:"primary",onClick:function(){return e.movePage(-1)}},r.a.createElement("i",{className:"la la-arrow-left"})),r.a.createElement(N.a,{disabled:!0},c+1,"/",s.length),r.a.createElement(N.a,{size:"sm",variant:"primary",onClick:function(){return e.movePage(1)}},r.a.createElement("i",{className:"la la-arrow-right"}))))):r.a.createElement(C.a,{style:{border:"1px solid #ccc",borderStyle:"dashed"},fluid:!0,className:"justify-content-md-center"},r.a.createElement("center",null,r.a.createElement("label",{style:{padding:"260px 24px",cursor:"pointer"},htmlFor:"upload-file"},"Ch\u1ecdn \u1ea3nh b\u1eb1ng c\xe1ch nh\u1ea5n v\xe0o \u0111\xe2y"))))),r.a.createElement(b.a,{md:"7"},r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"CQ ch\u1ee7 qu\u1ea3n")),r.a.createElement(w.a.Control,{name:"orgO",onChange:this.handleChange,value:v,onFocus:this.handleChangeType}))),r.a.createElement(b.a,{md:"6"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"ban h\xe0nh")),r.a.createElement(w.a.Control,{name:"orgP",onChange:this.handleChange,value:O,onFocus:this.handleChangeType})))),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"S\u1ed1")),r.a.createElement(w.a.Control,{name:"id",onChange:this.handleChange,value:h,onFocus:this.handleChangeType})),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"T\u1ea1i")),r.a.createElement(w.a.Control,{name:"place",onChange:this.handleChange,value:j,onFocus:this.handleChangeType}))),r.a.createElement(b.a,{md:"6"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Th\u1eddi gian")),r.a.createElement(L.a,{className:"form-control",dateFormat:"dd/MM/yyyy",selected:f,onChange:this.dateChange})))),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"4"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Lo\u1ea1i")),r.a.createElement(w.a.Control,{name:"type",onChange:this.handleChange,value:p,onFocus:this.handleChangeType}))),r.a.createElement(b.a,{md:"8"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Tr\xedch y\u1ebfu")),r.a.createElement(w.a.Control,{name:"abstract",onChange:this.handleChange,value:g,onFocus:this.handleChangeType})))),r.a.createElement(w.a.Control,{className:"mb-3",name:"content",as:"textarea",onChange:this.handleChange,value:i,rows:"15",onFocus:this.handleChangeType}),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"7"},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"N\u01a1i nh\u1eadn")),r.a.createElement(w.a.Control,{as:"textarea",rows:"5",name:"recv",onChange:this.handleChange,value:I,onFocus:this.handleChangeType}))),r.a.createElement(b.a,null,r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Ch\u1ee9c v\u1ee5")),r.a.createElement(w.a.Control,{name:"position",onChange:this.handleChange,value:R,onFocus:this.handleChangeType})),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"D\u1ea5u m\u1ed9c")),r.a.createElement(T.a,{thumbnail:!0,name:"stamp",style:{minHeight:"100px",minWidth:"100px",maxWidth:"150px",maxHeight:"100px"},src:F})),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"Ng\u01b0\u1eddi k\xfd")),r.a.createElement(w.a.Control,{name:"name",onChange:this.handleChange,value:M,onFocus:this.handleChangeType})))),r.a.createElement("div",{className:"box",style:{width:"100%"}},m.map((function(e){return r.a.createElement("img",{style:{height:"50px"},src:e,alt:"cropped"})})))),r.a.createElement(b.a,null,r.a.createElement("div",{className:"float-right"},r.a.createElement(N.a,{hidden:!a,className:"btn-outline-blue",variant:"blue",disabled:d,onClick:this.convert},r.a.createElement("span",{className:"btn-icon"},r.a.createElement("i",{className:"la la-pencil"}),"S\u1ed1 h\xf3a"))," "," ",r.a.createElement(N.a,{className:"btn-outline-warning",variant:"warning",disabled:d,onClick:this.handleShow},r.a.createElement("span",{className:"btn-icon"},r.a.createElement("i",{className:"la la-save"}),"L\u01b0u v\u0103n b\u1ea3n"))," "," ",r.a.createElement(N.a,{className:"btn-outline-secondary",variant:"secondary",onClick:this.createNew},r.a.createElement("span",{className:"btn-icon"},r.a.createElement("i",{className:"la la-undo-alt"}),"T\u1ea1o m\u1edbi"))))),r.a.createElement(S.a,{centered:!0,show:this.state.showModal,onHide:this.handleClose},r.a.createElement(S.a.Body,null,r.a.createElement(x.a,null,r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,null,"ID v\u0103n b\u1ea3n")),r.a.createElement(w.a.Control,{disabled:!0,value:o}))),r.a.createElement(S.a.Footer,null,r.a.createElement(N.a,{variant:"secondary",onClick:this.handleClose}," \u0110\xf3ng "),r.a.createElement(N.a,{variant:"primary",onClick:this.save}," L\u01b0u "))))}}]),t}(n.Component),F=a(48),U=a(279),A=a(277),H=a(278),z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){v.a.get("/api/logout").then((function(){window.location.reload()}))}},{key:"render",value:function(){var e=this.props.usrRole;return r.a.createElement(U.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(A.a,null,r.a.createElement(U.a.Brand,{href:"/"},r.a.createElement("b",null,"S\u1ed0 H\xd3A V\u0102N B\u1ea2N")),r.a.createElement(H.a,{style:{color:"white"}},"Version 0.1"),r.a.createElement(U.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(U.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav"},"guest"!==e?r.a.createElement(H.a,null,"guest"!==e&&r.a.createElement(F.b,{to:"/create",className:"nav-link",style:{padding:"5px"}},r.a.createElement("i",{className:"la la-pencil-alt"})," T\u1ea1o v\u0103n b\u1ea3n"),"admin"===e&&r.a.createElement(F.b,{to:"/management",className:"nav-link",style:{padding:"5px"}},r.a.createElement("i",{className:"la la-lock"})," Qu\u1ea3n l\xfd")," ",r.a.createElement(F.b,{to:"#",onClick:this.logout,className:"nav-link",style:{padding:"5px"}},r.a.createElement("i",{className:"la la-unlock"})," \u0110\u0103ng xu\u1ea5t")):r.a.createElement(H.a,null,r.a.createElement(F.b,{to:"/login",className:"nav-link"},r.a.createElement("i",{className:"la la-lock"})," \u0110\u0103ng nh\u1eadp")))))}}]),t}(n.Component),q=a(138),B=a(47),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.change=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),v.a.post("/api/authenticate",a.state).then((function(e){if(200!==e.status)throw new Error(e.error);"admin"===e.data.role?a.props.isAdmin():"staff"===e.data.role&&a.props.isStaff(),a.props.history.push("/")})).catch((function(e){console.error(e),a.alert("danger","T\xean t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang")}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/getInfo").then((function(t){200===t.status&&e.props.history.push("/")}))}},{key:"alert",value:function(e,t){this.refs.notify.notificationAlert({place:"bc",message:r.a.createElement("div",null,t),type:e,icon:"now-ui-icons ui-1_bell-53",autoDismiss:3})}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{ref:"notify"}),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"6"},r.a.createElement(C.a,null,r.a.createElement("h1",null,"Xin ch\xe0o!"),r.a.createElement("p",null,"Hi\u1ec7n b\u1ea1n \u0111ang kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n \u0111\u1ec3 s\u1eed d\u1ee5ng m\u1ed9t s\u1ed1 t\xednh n\u0103ng ",r.a.createElement("br",null),"H\xe3y ti\u1ebfn h\xe0nh \u0111\u0103ng nh\u1eadp t\xe0i kho\u1ea3n v\u1edbi ph\xe2n quy\u1ec1n \u0111\u1ee7 cao \u0111\u1ec3 ti\u1ebfp t\u1ee5c"))),r.a.createElement(b.a,{md:"6"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement("h1",null,"\u0110\u0103ng nh\u1eadp"),r.a.createElement("br",null),r.a.createElement(y.a,{className:"mb-3"},r.a.createElement(b.a,{md:"9"},r.a.createElement(w.a.Control,{name:"username",placeholder:"T\xean t\xe0i kho\u1ea3n",value:t,onChange:this.change,required:!0}))),r.a.createElement(y.a,{className:"mb-3"},r.a.createElement(b.a,{md:"9",sm:"12"},r.a.createElement(w.a.Control,{type:"password",name:"password",placeholder:"M\u1eadt kh\u1ea9u",value:a,onChange:this.change,required:!0}))),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"9",sm:"12"},r.a.createElement(N.a,{className:"btn-primary btn-rounded btn-block btn-air",type:"submit"},"\u0110\u0103ng nh\u1eadp")))))))}}]),t}(n.Component),W=Object(B.b)((function(e){return{usrRole:e.usrRole}}),(function(e){return{isAdmin:function(){return e({type:"admin"})},isStaff:function(){return e({type:"staff"})},isUser:function(){return e({type:"guest"})}}}))(V),X=a(109),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.show=function(e){a.setState({showModal:!0,targetUser:e})},a.close=function(){return a.setState({showModal:!1})},a.register=function(){v.a.post("/api/register",{username:a.state.username,password:a.state.password,role:a.state.role}).then((function(e){a.alert(e.data.type,e.data.message),a.setState({username:"",password:"",role:"admin"}),a.get()}))},a.delete=function(e){v.a.delete("/api/users/"+e.username).then((function(e){a.alert(e.data.type,e.data.message),a.get()}))},a.edit=function(e){a.setState({targetUser:e}),v.a.put("/api/users/"+e,{password:a.state.newPassword}).then((function(e){a.alert(e.data.type,e.data.message)})),a.setState({showModal:!1,newPassword:""})},a.usersToRender=function(e){return e.filter((function(e){return!e.username||e.username.toLowerCase().includes(a.state.filter.toLowerCase())||!e.role||e.role.toLowerCase().includes(a.state.filter.toLowerCase())}))},a.sort=function(e){switch(e){case"username":a.setState({users:a.state.users.sort((function(e,t){return a.state.asc*(e.username.toLowerCase()<t.username.toLowerCase()?-1:e.username.toLowerCase()>t.username.toLowerCase()?1:0)}))});break;case"role":a.setState({users:a.state.users.sort((function(e,t){return a.state.asc*(e.role.toLowerCase()<t.role.toLowerCase()?-1:e.role.toLowerCase()>t.role.toLowerCase()?1:0)}))})}a.setState({asc:-1*a.state.asc})},a.state={asc:1,filter:"",showModal:!1,users:[],username:"",password:"",targetUser:"",newPassword:"",role:"admin"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.get()}},{key:"get",value:function(){var e=this;v.a.get("/api/users").then((function(t){return e.setState({users:t.data.reverse()})}))}},{key:"alert",value:function(e,t){this.refs.notify.notificationAlert({place:"bc",message:r.a.createElement("div",null,t),type:e,icon:"now-ui-icons ui-1_bell-53",autoDismiss:3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.targetUser,l=t.newPassword,s=t.username,c=t.password,o=t.role;return r.a.createElement("div",null,r.a.createElement(P.a,{ref:"notify"}),r.a.createElement(y.a,null,r.a.createElement(b.a,{md:"4",style:{width:"100%"}},r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(w.a.Control,{name:"username",placeholder:"T\xean t\xe0i kho\u1ea3n",onChange:this.handleChange,value:s})),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(w.a.Control,{type:"password",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:this.handleChange,value:c})),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(w.a.Control,{as:"select",name:"role",onChange:this.handleChange,value:o},r.a.createElement("option",{value:"admin"},"Qu\u1ea3n tr\u1ecb vi\xean"),r.a.createElement("option",{value:"staff"},"Nh\xe2n vi\xean"))),r.a.createElement(N.a,{onClick:this.register},"Th\xeam")),r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,null,r.a.createElement(x.a,{className:"no-border"},r.a.createElement(x.a,null,r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,{id:"basic-addon1"},r.a.createElement("i",{className:"la la-search"})," ")),r.a.createElement(w.a.Control,{name:"filter",placeholder:"T\xecm ki\u1ebfm t\xean ho\u1eb7c vai tr\xf2...",onChange:this.handleChange}))))),r.a.createElement(y.a,null,r.a.createElement(b.a,null,r.a.createElement("br",null),r.a.createElement(X.a,{responsive:!0,bordered:!0,hover:!0},r.a.createElement("thead",{className:"thead-default",style:{cursor:"pointer"}},r.a.createElement("tr",null,r.a.createElement("th",{width:"50%",onClick:function(){return e.sort("username")}},"T\xean t\xe0i kho\u1ea3n"),r.a.createElement("th",{width:"30%",onClick:function(){return e.sort("role")}},"Vai tr\xf2"),r.a.createElement("th",{width:"20%"},"T\xf9y ch\u1ecdn"))),r.a.createElement("tbody",null,this.usersToRender(a).map((function(t,a){return r.a.createElement(r.a.Fragment,{key:"u-"+a},r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.role),r.a.createElement("td",null,r.a.createElement(N.a,{variant:"warning",size:"sm",onClick:function(){return e.show(t.username.toString())}},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-edit"})))," "," ",r.a.createElement(N.a,{variant:"danger",size:"sm",onClick:function(){return e.delete(t)}},r.a.createElement("span",null,r.a.createElement("i",{className:"la la-trash"}))))))})))))))),r.a.createElement(S.a,{size:"sm",show:this.state.showModal,onHide:this.close},r.a.createElement(S.a.Body,null,r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,{id:"basic-addon1"},"T\xe0i kho\u1ea3n")),r.a.createElement(w.a.Control,{readOnly:!0,name:"targetUser",value:n})),r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(x.a.Prepend,null,r.a.createElement(x.a.Text,{id:"basic-addon1"},"M\u1eadt kh\u1ea9u m\u1edbi")),r.a.createElement(w.a.Control,{type:"password",name:"newPassword",onChange:this.handleChange,value:l}))),r.a.createElement(S.a.Footer,null,r.a.createElement(N.a,{className:"btn-outline-warning",variant:"warning",onClick:function(){return e.edit(n)}},r.a.createElement("span",{className:"btn-icon"},r.a.createElement("i",{className:"la la-save"}),"L\u01b0u")))))}}]),t}(n.Component),G=a(16);function Q(e){return function(t){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).state={loading:!0,redirect:!1},e}return Object(u.a)(a,t),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/api/checkToken").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(G.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),a}(n.Component)}var J=a(280),K=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;v.a.get("/api/getInfo").then((function(t){"admin"===t.data.role?e.props.isAdmin():"staff"===t.data.role&&e.props.isStaff()}))}},{key:"logout",value:function(){v.a.get("/api/logout").then((function(){window.location.reload()}))}},{key:"render",value:function(){var e=this.props.usrRole;return r.a.createElement(F.a,null,r.a.createElement(z,{usrRole:e}),r.a.createElement(A.a,null,r.a.createElement("div",{className:"py-2 text-center"}),r.a.createElement(G.d,null,r.a.createElement(J.a,{className:"ibox",style:{width:"100%",minHeight:"250px"}},r.a.createElement(J.a.Body,null,r.a.createElement(G.b,{path:"/",exact:!0,component:q.a}),r.a.createElement(G.b,{path:"/create",component:Q(M)}),r.a.createElement(G.b,{path:"/management",component:Q(_)}),r.a.createElement(G.b,{path:"/login",component:W})),r.a.createElement(J.a.Footer,null,"Created by Thanh Vu 2020")))))}}]),t}(n.Component),Y=Object(B.b)((function(e){return{usrRole:e.usrRole}}),(function(e){return{isAdmin:function(){return e({type:"admin"})},isStaff:function(){return e({type:"staff"})},isUser:function(){return e({type:"guest"})}}}))(K);var $=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null))};a(268),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(83),ee=a(142),te={usrRole:"guest"},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,a=Object(ee.a)({},e);return"admin"===t.type&&(a.usrRole="admin"),"staff"===t.type&&(a.usrRole="staff"),"guest"===t.type&&(a.usrRole="guest"),a},ne=Object(Z.b)(ae);s.a.render(r.a.createElement(B.a,{store:ne},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},73:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=73}},[[144,1,2]]]);